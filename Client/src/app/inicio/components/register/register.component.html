<div class="overlay">
  <p-button
    class="close-button"
    label="X"
    severity="contrast"
    (click)="cerrarFormulario()"
  />
  <div class="user-form" style="width: 40vw">
    <h3>Usuarios</h3>
    <form>
      <div>
        <label for="nombre">Nombre del Usuario:</label>
        <input
          autocomplete="false"
          type="text"
          id="nombre"
          [(ngModel)]="usuario.nombre"
          name="nombre"
          required
        />
      </div>
      <div>
        <label for="password">Contraseña:</label>
        <input
          autocomplete="false"
          type="password"
          id="password"
          [(ngModel)]="usuario.password"
          name="password"
          required
        />
      </div>
      <div>
        <label for="confirmPassword">Repetir contraseña:</label>
        <input
          autocomplete="false"
          type="password"
          id="confirmPassword"
          [(ngModel)]="usuario.confirmPassword"
          name="confirmPassword"
          required
        />
      </div>
      <div>
        <p-treeSelect
          class="md:w-20rem w-full"
          containerStyleClass="w-full"
          [(ngModel)]="usuario.rol"
          [options]="roles"
          placeholder="Rol"
        />
      </div>
      <div style="margin-top: 10px">
        <p-button severity="primary" label="Registrar" (click)="enviarDatos()"/>
      </div>
    </form>
  </div>

  <mat-card class="userCard">
    <h1>Usuarios activos</h1>
    @for (item of usuarios; track $index) {
    <div>
      <p>Usuario:{{ item.username }}</p>
      <span>Rol: {{ item.rol }}</span>
    </div>
    }
  </mat-card>
</div>
